---
Date: 2026-02-18
Author: "Claude | Model: claude-sonnet-4-6"
Version: v1.0
Status: Active
---

# MOC: Infrastructure & Deployment

> Covers the full infrastructure stack: Render, FastAPI, APScheduler, GitHub, Telegram.
> Back to [[MOC-Core]]

---

## Infrastructure Overview

```
┌─────────────────────────────────────────────────┐
│  Render Starter ($7/month)                       │
│  ┌─────────────────────────────────────────────┐ │
│  │  FastAPI (crewai-service/)                  │ │
│  │  ├── /api/v1/meetings/execute (webhook)     │ │
│  │  ├── APScheduler (self-scheduling)          │ │
│  │  │   └── Daily Briefing: Mon-Fri 07:47 PST │ │
│  │  │   └── Work Sessions: every 2hr rotation │ │
│  │  └── backlog/discovery.py                   │ │
│  └─────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────┘
         │                    │
         ▼                    ▼
   GitHub API            LLM APIs
   (read/write)    xAI / Anthropic / Google
```

---

## Skill Nodes in This Domain

### Deployment
- [[skill-render-deployment]] — Render starter, render-crewai.yaml, root dir config
- [[skill-github-commit-automation]] — Token auth, branch strategy, auto-commit patterns

### Scheduling
- [[skill-work-session-automation]] — APScheduler config, staggered 2hr rotation
- [[skill-agent-rotation-schedule]] — Agent order, cooldowns, Abacus pause until Feb 23

### Cost & Governance
- [[skill-cost-governance]] — $20/month cap, per-agent allocations, HiC_Needed pathway
- [[skill-telegram-alerts]] — Notification triggers, what to alert vs. what to swallow

### Meeting Engine
- [[skill-meeting-engine]] — Phase state machine, full transcript pattern
- [[skill-session-output-format]] — Mandatory sections, stats line, cost block format

---

## Service Map

| Service | URL | Purpose |
|---------|-----|---------|
| Meeting API | Render/api/v1/meetings | Meeting execution + scheduling |
| Web Frontend | bpr-d.onrender.com | Dashboard, TEAM page, research |
| GitHub | github.com/REBEmpire/BPR-D | Source of truth, all outputs |
| Telegram | Bot → Russell | Handoff alerts |

---

## Deployment Checklist (Living)

- [x] FastAPI service deployed to Render
- [x] APScheduler running inside FastAPI process
- [x] GitHub token with write access configured
- [x] xAI (Grok), Anthropic (Claude), Google (Gemini) APIs live
- [ ] Abacus API: paused until Feb 23 (usage reset)
- [ ] Work session staggered rotation: validate 2hr intervals
- [ ] Skill graph navigation injected into session prompts

---

## Known Failure Modes & Mitigations

| Failure | Mitigation |
|---------|-----------|
| Render cold start delays | Keep-alive ping, or Render paid tier |
| GitHub rate limits | Batch commits, exponential backoff in `github_tool.py` |
| LLM API outage | Per-provider fallback order in `llm/` package |
| APScheduler drift | Log scheduled vs actual run times, alert if >5min drift |
| Cost overrun | Hard cap in `meetings/execute`, soft alert at 80% monthly |

---

*Generated by: Claude | Model: claude-sonnet-4-6 | 2026-02-18*
