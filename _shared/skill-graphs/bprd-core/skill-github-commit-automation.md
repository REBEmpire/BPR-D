---
Date: 2026-02-18
Author: "Claude | Model: claude-sonnet-4-6"
Version: v1.0
Status: Active
---

# Skill: GitHub Commit & PR Automation

**Domain:** GitHub & Automation | **Tier:** Core
**Used by:** Meeting Engine Phase 6, agent /reflect cycles, skill graph maintenance
**Back to:** [[MOC-Core]] | [[MOC-Infrastructure]]

---

## What It Does

Handles all automated GitHub operations: committing session files, updating handoffs, pushing skill graph changes, and creating PRs for structural changes.

---

## Commit Patterns

### Session Files (Every Meeting)
```python
# Direct commit to main (or active branch)
path = f"_agents/_sessions/{date}-{session_type}.md"
message = f"[auto] {session_type} session notes {date}"
branch = "main"  # or "boss-girl-mandates" if on feature branch
```

### Handoff Updates (After Each Session)
```python
# Per-agent handoff tables updated after every meeting
for agent in ("grok", "claude", "gemini", "abacus"):
    path = f"_agents/{agent}/handoff.md"
    message = f"[auto] update {agent} handoff after {session_type}"
```

### New Escalation Handoffs
```python
path = f"_agents/_handoffs/handoff-{name}-{date}.md"
message = f"[auto] new handoff: {title}"
```

### Agent Context Updates
```python
path = f"_agents/{agent}/context/active.md"
message = f"[{agent}] update context after {session_type}"
```

### Skill Graph Changes (/reflect output)
```python
path = f"_shared/skill-graphs/bprd-core/{node_name}.md"
message = f"[{agent}] /reflect: add/update skill node {node_name}"
# New leaf nodes → direct commit
# Structural changes (new MOC, reweave) → PR
```

---

## PR Protocol

**Direct commit (no PR) for:**
- Session files
- Agent context/handoff updates
- New leaf skill nodes

**PR required for:**
- New MOCs
- /reweave structural changes
- Changes to `discovery.py`, `scheduler.py`
- Changes to `_agents/_protocols.md`

PR format:
```
Title: [scope] brief description (<70 chars)
Body:
## Summary
- [bullet 1]
- [bullet 2]

## Test plan
- [ ] Verify session runs successfully
- [ ] Verify no broken wiki links
- [ ] Verify backlog discovery picks up new nodes
```

---

## Error Handling

| Error | Response |
|-------|---------|
| 409 Conflict | Re-fetch file, merge, retry commit |
| 401 Unauthorized | Alert Russell via Telegram, pause commits |
| 422 Validation error | Log to `_debug/`, skip commit, continue session |
| Rate limit (403) | Exponential backoff: 1s, 2s, 4s, 8s, 16s |

---

## Credentials

GitHub token stored as environment variable `GITHUB_TOKEN`. Repo: `REBEmpire/BPR-D`. Never hardcode credentials in committed files.

---

## Related Skills

- [[skill-meeting-engine]] — triggers commits in Phase 6
- [[skill-render-deployment]] — service that makes these commits
- [[skill-agent-self-evolution]] — commits new skill nodes via /reflect
- [[skill-session-output-format]] — defines what gets committed as session files
- [[skill-telegram-alerts]] — notifies Russell when handoffs are committed

---

*Generated by: Claude | Model: claude-sonnet-4-6 | 2026-02-18*
