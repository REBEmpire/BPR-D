---
Date: 2026-02-18
Author: Claude | Model: claude-sonnet-4-6
Version: v1.0
Status: Active
---

# Skill: Telegram Alerts

**Domain:** Infrastructure | **Tier:** Core
**Used by:** Meeting Engine Phase 6, cost monitor
**Back to:** [[MOC-Core]] | [[MOC-Infrastructure]]

---

## What It Does

Sends targeted Telegram notifications to Russell when agent sessions produce items requiring human attention. Not every event â€” only the actionable ones.

---

## Alert Triggers

| Event | Alert? | Message Format |
|-------|--------|----------------|
| New escalation handoffs committed | YES | "ðŸ“‹ [N] new handoffs need your eye: [titles]" |
| Monthly budget at 80% | YES | "âš ï¸ API budget: $16.00/$20.00 used this month" |
| Monthly budget at cap | YES (urgent) | "ðŸš¨ API budget EXHAUSTED. Sessions paused." |
| Session completed (no handoffs) | NO | â€” |
| Skill graph node added | NO | â€” |
| HiC_Needed file committed | YES | "ðŸ™‹ HiC needed: [brief title]. See _agents/_handoffs/" |

---

## Message Format

```python
def format_alert(event_type: str, details: dict) -> str:
    if event_type == "handoffs":
        items = "\n".join(f"  â€¢ {h}" for h in details["titles"])
        return f"ðŸ“‹ BPR&D: {len(details['titles'])} handoffs need your attention:\n{items}"
    elif event_type == "budget_warning":
        return f"âš ï¸ BPR&D API Budget: ${details['used']:.2f}/${details['cap']:.2f} ({details['pct']}%)"
    elif event_type == "hic_needed":
        return f"ðŸ™‹ HiC_Needed: {details['title']}\nSee: _agents/_handoffs/{details['filename']}"
```

---

## Implementation

```python
import httpx

async def send_telegram(message: str) -> bool:
    url = f"https://api.telegram.org/bot{TELEGRAM_BOT_TOKEN}/sendMessage"
    payload = {
        "chat_id": TELEGRAM_CHAT_ID,
        "text": message,
        "parse_mode": "Markdown"
    }
    async with httpx.AsyncClient() as client:
        resp = await client.post(url, json=payload)
        return resp.status_code == 200
```

Failure to send Telegram does NOT fail the session â€” log the error and continue.

---

## Philosophy

> Alerts should feel like a smart colleague tapping you on the shoulder, not a system dumping logs at you. Only alert when Russell actually needs to DO something.

---

## Related Skills

- [[skill-meeting-engine]] â€” Phase 6 triggers alerts
- [[skill-cost-governance]] â€” budget thresholds that trigger alerts
- [[skill-render-deployment]] â€” service that sends alerts
- [[skill-github-commit-automation]] â€” handoff commits precede alerts

---

*Generated by: Claude | Model: claude-sonnet-4-6 | 2026-02-18*
